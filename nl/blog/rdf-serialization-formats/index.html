<!doctype html>
<html class="no-js" lang="">
<head>
  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>What's the best RDF serialization format?</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <link rel="manifest" href="site.webmanifest">
  <link rel="apple-touch-icon" sizes="180x180" href="/img/icons/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/img/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/img/icons/favicon-16x16.png">
  <link rel="mask-icon" href="/img/icons/safari-pinned-tab.svg" color="#5bbad5">
  <meta name="apple-mobile-web-app-title" content="Ontola.io">
  <meta name="application-name" content="Ontola.io">
  <meta name="msapplication-TileColor" content="#5a91af">
  <meta name="theme-color" content="#ffffff">
  <link rel="stylesheet" href="/css/normalize.css"/>
  <link rel="stylesheet" href="/css/main.css"/>
  <link rel="stylesheet" href="/css/syntax.css"/>
  <link href="https://fonts.googleapis.com/css?family=Montserrat:600,800" rel="stylesheet">
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.13/css/all.css" integrity="sha384-DNOHZ68U8hZfKXOrtjWvjxusGo9WQnrNx2sqG0tfsghAvtVlRW3tvkXWZh58N9jp" crossorigin="anonymous">
  <meta name="description" content="Contrary to some other datamodels, RDF is not bound by a single serializiation format.Triple statements (the data atoms of RDF) can be serialized in many way...">
<meta property="og:site_name" content="ontola.github.io">
<meta name="twitter:card" content="summary">
<meta name="twitter:site" content="@ontola.io">

<title>What's the best RDF serialization format?</title>
<meta property="og:title" content="What's the best RDF serialization format?">
<meta name="twitter:title" content="What's the best RDF serialization format?">
<meta property="og:description" content="Contrary to some other datamodels, RDF is not bound by a single serializiation format.
Triple statements (the data atoms of RDF) can be serialized in many ways, which leaves developers with a possibly tough decision: how should I serialize my linked data?

"/>


<meta property="article:published_time" content="2019-06-29T00:00:00+02:00">


<meta property="og:image" content="/img/default.jpg">
<meta name="twitter:image" content="/img/default.jpg">

<meta property="og:url" content="http://ontola.io/blog/rdf-serialization-formats/" />

<meta itemprop="keywords" content="" />




<meta property="article:author" content="Joep Meindertsma" />
<meta property="og:type" content="article">
  
  <meta name="twitter:creator" content="@joepmeindertsma">
  


</head>
<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <nav  id="navbar" class="nav__wrapper">
    <div class="nav">
      <a href="/nl/" class="nav__logo">
        <img src="/img/logo.svg" />
        <span>Ontola</span><span class="nav__logo__tld">.io</span>
      </a>
      <div class="nav__links nav__links--collapsed">
        <a href="/nl/">home</a>
        <!-- <a href="">services</a> -->
        <a href="/nl/about">about</a>
        <a href="/nl/blog">blog</a>
        <a href="/nl/contact">contact</a>
      </div>
    </div>
  </nav>
  <div class="container">
      <div class="hero hero--smaller hero--narrow">
  <div class="hero__wrapper">
    <a href="/blog"class="hero__link">
      <h3 id="hero-text">
        <i class="fas fa-level-up-alt"></i>
        Linked Data Blog
      </h3>
    </a>
  </div>
</div>
<div class="post text">
  <h1>What's the best RDF serialization format?</h1>
  
  

<div class="details">
  <a href="https://twitter.com/@joepmeindertsma" target="_blank" class="details__author">Joep Meindertsma, </a>29 Jun 2019
</div>


  <p>Contrary to some other datamodels, RDF is not bound by a single serializiation format.
Triple statements (the data atoms of RDF) can be serialized in many ways, which leaves developers with a possibly tough decision: how should I serialize my <a href="/what-is-linked-data">linked data</a>?</p>

<p>To answer the title’s question: <em>it depends</em>, but probably N-Triples / N-Quads.</p>

<p>So, let’s discuss the various formats and when you should use which.
The order in which they appear is chronological, and does not reflect preference.
Skip to the <a href="#tldr">TL;DR</a> if you’re feeling hasty.</p>

<h2 id="rdfxml">RDF/XML</h2>

<p>The first and perhaps most well-known RDF serialization format is <a href="https://www.w3.org/TR/rdf-syntax-grammar/">RDF/XML</a>.
It’s also the most <a href="https://github.com/mhausenblas/rdfxml.info/blob/master/input/RDF-XML%20sucks%20-%20praise%20and%20damnation.txt">despised</a>.
Many systems were able to parse, store and serialize XML when RDF was invented almost 20 years ago, so RDF/XML seemed like a logical default.</p>

<p>Unfortunately, RDF/XML is a weird mixture of two fundamentally different concepts: a tree-like document, and a triple-based graph.
This makes RDF/XML conceptually difficult and quite verbose, compared to other standards.
For XML developers, it might look familiar, but since it does not clearly reflect the triple model, it will probably cause confusion.</p>

<p>Use it only if you really need to work with XML.</p>

<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">&lt;?xml version="1.0"?&gt;</span>

<span class="nt">&lt;rdf:RDF</span>
<span class="na">xmlns:rdf=</span><span class="s">"http://www.w3.org/1999/02/22-rdf-syntax-ns#"</span>
<span class="na">xmlns:schema=</span><span class="s">"http://schema.org/"</span><span class="nt">&gt;</span>

<span class="nt">&lt;rdf:Description</span> <span class="na">rdf:about=</span><span class="s">"https://www.w3.org/People/Berners-Lee/"</span><span class="nt">&gt;</span>
  <span class="nt">&lt;schema:birthDate&gt;</span>1966-06-08<span class="nt">&lt;/schema:birthDate&gt;</span>
  <span class="nt">&lt;schema:birthPlace</span> <span class="na">rdf:resource=</span><span class="s">"http://dbpedia.org/resource/London"</span><span class="nt">/&gt;</span>
<span class="nt">&lt;/rdf:Description&gt;</span>

<span class="nt">&lt;/rdf:RDF&gt;</span>
</code></pre></div></div>

<h2 id="rdfa">RDFa</h2>

<p><a href="https://www.w3.org/TR/rdfa-core/">RDFa</a> is RDF inside HTML.
By adding attributes to HTML elements, you can give semantic context to content inside your webpages.
Google parses it (amongst <a href="#JSON-LD">JSON-LD</a>, <a href="https://w3c.github.io/microdata/#microdata-and-rdf">Microdata</a>, Microformats and Pagemaps) to <a href="https://developers.google.com/custom-search/docs/structured_data">enhance their search previews</a>, although they <a href="https://www.searchenginejournal.com/google-structured-data-preference/297479/">recommend using JSON-LD</a>.
W3C’s own Respec documentation tool <a href="https://github.com/w3c/respec/issues/1503">dropped support for RDFa</a>,
mainly because adoption of RDFa was too low, the required code was messy and even Google didn’t parse it correctly.</p>

<p>RDFa is fundamentally different from the other mentioned formats: it combines RDF with view data (HTML).
This means that it makes your HTML documents a bit larger and more complicated, and parsing it for triples will be more costly than parsing an RDF only format like N-Triples.
This makes it less useable if your application relies on a lot of RDF data.</p>

<p>Use RDFa if you want to make your existing website / blog / HTML based application more semantic.</p>

<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;div</span> <span class="na">about=</span><span class="s">"https://www.w3.org/People/Berners-Lee/"</span><span class="nt">&gt;</span>
  <span class="nt">&lt;p&gt;</span>
    Tim is born on
    <span class="nt">&lt;span</span> <span class="na">property=</span><span class="s">"http://schema.org/birthDate"</span><span class="nt">&gt;</span>1955-06-07<span class="nt">&lt;/span&gt;</span>
    in
    <span class="nt">&lt;a</span>
      <span class="na">property=</span><span class="s">"http://schema.org/birthPlace"</span>
      <span class="na">href=</span><span class="s">"http://dbpedia.org/resource/London"</span>
    <span class="nt">&gt;</span>
      London
    <span class="nt">&lt;/a&gt;</span>
  <span class="nt">&lt;/p&gt;</span>
<span class="nt">&lt;/div&gt;</span>
</code></pre></div></div>

<h2 id="notation3-n3">Notation3 (.n3)</h2>

<p>Tim-Berners Lee wanted something better than RDF/XML, and came up with <a href="https://www.w3.org/TeamSubmission/n3/">N3</a>.
Contrary to RDF/XML, N3 closely resembles the RDF Subject / Predicate / Object model.
This makes N3 very easy on the eyes, and helps to understand how RDF works.
By using @prefixes, N3 can be quite compact.</p>

<p>However, N3 is relatively costly to serialize, which could hinder performance.
It’s also quite feature-heavy, since it support <a href="http://www.ninebynine.org/RDFNotes/RDFFactsAndRules.html">RDF rules</a>, which makes it harder to parse.</p>

<p>Unless you need the reasoning / rules features of N3, use its more popular (and very similar) successor Turtle.</p>

<pre><code class="language-notation3">@prefix tim: &lt;https://www.w3.org/People/Berners-Lee/&gt;.
@prefix schema: &lt;http://schema.org/&gt;.
@prefix dbpedia: &lt;http://dbpedia.org/resource/&gt;.

&lt;tim&gt; schema:birthDate "1955-06-08".
&lt;tim&gt; schema:birthPlace &lt;dbpedia:London&gt;.
</code></pre>

<h2 id="turtle-ttl">Turtle (.ttl)</h2>

<p><a href="https://www.w3.org/TR/turtle/">Turtle</a>, the <em>Terse RDF Triple Language</em>, is a subset of N3.</p>

<p>It strips some of the syntactic sugar en features of N3, which makes parsing Turtle a bit simpler.
This, in turn, made Turtle more popular, which means that it’s easier to find libraries for it.</p>

<p>Unfortunately, it’s still quite costly to parse compared to <a href="#N-Triples">N-Triples</a>.</p>

<p>Turtle is highly human-readable and is therefore a good candidate if you need to edit RDF by hand.</p>

<div class="language-turtle highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">@prefix</span><span class="w"> </span><span class="nn">tim:</span><span class="w"> </span><span class="nl">&lt;https://www.w3.org/People/Berners-Lee/&gt;</span><span class="p">.</span><span class="w">
</span><span class="kd">@prefix</span><span class="w"> </span><span class="nn">schema:</span><span class="w"> </span><span class="nl">&lt;http://schema.org/&gt;</span><span class="p">.</span><span class="w">
</span><span class="kd">@prefix</span><span class="w"> </span><span class="nn">dbpedia:</span><span class="w"> </span><span class="nl">&lt;http://dbpedia.org/resource/&gt;</span><span class="p">.</span><span class="w">

</span><span class="nl">&lt;tim&gt;</span><span class="w"> </span><span class="nn">schema:</span><span class="n">birthDate</span><span class="w"> </span><span class="s">"1955-06-08"</span><span class="p">.</span><span class="w">
</span><span class="nl">&lt;tim&gt;</span><span class="w"> </span><span class="nn">schema:</span><span class="n">birthPlace</span><span class="w"> </span><span class="nl">&lt;dbpedia:London&gt;</span><span class="p">.</span><span class="w">
</span></code></pre></div></div>

<h2 id="n-triples-nt-and-n-quads-nq">N-Triples (.nt) and N-Quads (.nq)</h2>

<p><a href="https://www.w3.org/TR/n-triples/">N-Triples</a> is a very simple subset of Turtle, which in turn is a simple subset of N3.
N-Triples does not support <code class="highlighter-rouge">@prefixes</code> or any fancy features.
This makes N-Triples trivial to parse / serialize, so many libraries are available and you can easily write one yourself.
It also makes parsing highly performant.</p>

<p>However, the lack of prefixes and shorthands makes the format lengthy and a bit tough to read.
The lenghty URLs also mean that you’ll need some form of compression (e.g.g-zip) if you don’t want to waste precious bandwith or storage capacity.</p>

<p>Use N-Triples for machine-to-machine communication, which is probably most of the time.
Since writing a parser / serializer for N-Triples is so simple, it’s a good idea to support this pretty much always.</p>

<pre><code class="language-n-triples">&lt;https://www.w3.org/People/Berners-Lee/&gt; &lt;http://schema.org/birthDate&gt; "1955-06-08".
&lt;https://www.w3.org/People/Berners-Lee/&gt; &lt;http://schema.org/birthPlace&gt; &lt;http://dbpedia.org/resource/London&gt;.
</code></pre>

<p><a href="https://www.w3.org/TR/n-quads/">N-Quads</a> are like N-Turiples, but they have an optional fourth column, which can be used to denote a graph label.
The graph label often refers to the source of the data, e.g. the URL of the HTML document or some external RDF resource.</p>

<h2 id="json-ld-jsonld">JSON-LD (.jsonld)</h2>

<p>JSON is without a doubt the most popular way to handle data in webapplications.
<a href="https://json-ld.org/spec/latest/json-ld/">JSON-LD</a> is an extension of JSON, and is valid JSON as well.
You can turn your regular plain old JSON into RDF by adding <a href="https://json-ld.org/spec/latest/json-ld/#the-context"><code class="highlighter-rouge">@context</code></a>.
This object mainly serves as a mapping, so your plain keys get turned into fancy links to RDF Classes and Properties.
You can add context either by adding an <code class="highlighter-rouge">@content</code> header in your HTTP response, by including the link in your JSON body, or by adding the entire <code class="highlighter-rouge">@context</code> object to you JSON.
This means that if you want to upgrade your JSON API to JSON-LD, you get to keep your serializers.</p>

<p>JSON-LD is easy to read, and will feel familiar even to those new to RDF and linked data.
Because it’s still valid JSON, it’s usable to those who don’t want to deal with URLs.</p>

<p>Unfortunately, it’s difficult to parse if you need the RDF data instead of the JSON object.
This means that there are few (bugfree) JSON-LD parsers available, and it also means that parsing JSON-LD is costly for your CPU.</p>

<p>JSON-LD is a compromise.
It supports RDF, it supports JSON, and it does both <em>okay</em>.
Use JSON-LD if you already have a RESTful JSON API, and if performant RDF parsing is not crucial.
Since JSON is so popular, I think this is the way to go for <em>most</em> of the existing APIs.</p>

<h2 id="hdt">HDT</h2>

<p><a href="http://www.rdfhdt.org/what-is-hdt/">HDT</a> (Header, Dictionary, Triples) is a compact data structure and binary serialization format for RDF, so it’s more than just a way to serialize RDF.
Its data structure saves space and bandwith (it’s half the size of gzipped N-Triples).
It’s design has indexing built-in, which means it can be searched or browsed efficiently.
Check out the impressive <a href="http://www.rdfhdt.org/technical-specification/">technical specification</a> if you want to learn more about how it works.</p>

<p>Although some really useful libraries for HDT exist, be sure to check if there exists libraries that work with your stack.</p>

<h2 id="let-your-users-choose-a-format">Let your users choose a format</h2>

<p>Choosing an RDF serialization format for your application or service might be a false dilemma.
Since you control your application, and probably have an internal model, you can offer multiple serialization options.
Therefore, you can implement a serialization library (e.g. our <a href="https://github.com/ontola/rdf-serializers">rdf-serializers</a> gem for Rails) and use <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Content_negotiation">HTTP Content negotation</a>, so your project can handle all kinds of formats.</p>

<h2 id="tldr">TL;DR</h2>

<ul>
  <li>Use N-Triples if you want performant machine-to-machine communication.</li>
  <li>Use HDT if you have huge datasets and require the best performance, and if you can find / build a fitting HDT implementation for your stack.</li>
  <li>Use JSON-LD if you want to improve your exsting JSON API.</li>
  <li>Use Turtle if you want to manually read &amp; edit your RDF.</li>
  <li>Use Notation3 if you need RDF rules.</li>
  <li>Use RDFa to extend your existing HTML pages.</li>
  <li>Use RDF/XML if you need to use XML.</li>
  <li>If you can, support all of them.</li>
</ul>

</div>
<div class="post__navigation">
  <div class="post__navigation__wrapper">
    
      <a class="post__navigation__previous" href="/blog/json-hal-ld/">&laquo; Upgrade JSON-HAL to JSON-LD</a>
    
    
  </div>
</div>

  </div>
  <div class="footer--wrapper" id="footer">
    <div class="footer">
      <div class="footer-row">
        <div href="/" class="footer__header">
          Ontola
        </div>
        <a href="/nl/">Home</a>
        <!-- <a href="">Services</a> -->
        <a href="/nl/about">About</a>
        <a href="/nl/blog">Blog</a>
        <a href="/nl/contact">Contact</a>
        
          
          
            <a href="/blog/rdf-serialization-formats/">English</a>
          
        
           
        <!-- <a href="/about">About</a> -->
      </div>
      <div class="footer-row">
        <div class="footer__header">Wat wij doen</div>
        <a href="/nl/">Linked data</a>
        <a href="/nl/webdevelopment">Webapplicacaites</a>
        <a href="/nl/continuous-integration">Continuous integration</a>
        <a href="/nl/freelance">Freelance ontwikkeling</a>
      </div>
      <div class="footer-row">
        <div href="/" class="footer__header">Vind ons</div>
        <div class="footer__social_logos">
          <a href="https://github.com/ontola">
            <i title="Github" aria-label="Github" class="fab fa-github"></i>
          </a>
          <a href="https://www.linkedin.com/company/ontola/">
            <i title="LinkedIn" aria-label="LinkedIn" class="fab fa-linkedin"></i>
          </a>
          <a href="https://www.facebook.com/ontola.io/">
            <i title="Facebook" aria-label="Facebook" class="fab fa-facebook"></i>
          </a>
          <a href="https://twitter.com/ontola_io">
            <i title="Twitter" aria-label="Twitter" class="fab fa-twitter"></i>
          </a>
        </div>
        <a href="mailto:info@ontola.io">
          <i class="fas fa-envelope"></i>
          info@ontola.io
        </a>
        <a href="tel:0031636020942">
          <i class="fas fa-phone"></i>
          +316 360 209 42
        </a>
        <a href="https://goo.gl/maps/x5Sggs9X7L32">
          <i class="fas fa-map-marker-alt"></i>
          Koningslaan 62, Utrecht, NL
        </a>
        <div><a href="https://argu.co">
          <i class="fas fa-briefcase"></i>
          Argu B.V.</a> kvk 65684168<div>
        </div>
      </div>
    </div>
    <img class="footer__logo" src="/img/logo.svg" />
  </div>
  </div>
  <script src="/js/main.js"></script>
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-121994595-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-121994595-1');
  </script>
</body>

</html>
